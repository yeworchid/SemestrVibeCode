# ОРИС Семестровая Работа 2 - Стратегическая Игра

Многопользовательская стратегическая игра с экономикой, производством ресурсов и боевой системой.

## Описание

Игра для 2-4 игроков, где каждый развивает свою экономику на поле 5×5, строит здания, производит ресурсы, создает армию и атакует противников. Победитель определяется по количеству очков за ресурсы в конце игры (15 циклов).

## Технологический стек

- **Backend**: C# (.NET), TCP Sockets
- **Frontend**: WinForms
- **Протокол**: JSON через TCP

## Структура проекта

- `Server/` - серверная часть игры
- `Client/` - клиентское приложение (WinForms)
- `Common/` - общие модели данных и DTO
- `Игра ОРИС/` - документация с правилами игры

## Запуск

### Сервер

```bash
cd Server
dotnet run
```

Сервер запустится на порту 5000.

### Клиент

```bash
cd Client
dotnet run
```

Или откройте решение в Visual Studio и запустите проект Client.

## Правила игры

### Основные механики

1. **Поле**: У каждого игрока поле 5×5 клеток для строительства
2. **Ресурсы**: 16 типов ресурсов в 4 классах (базовые, переработанные, продвинутые, драгоценности)
3. **Здания**: Производители, переработчики, казармы, оборона
4. **Архетипы**: 7 уникальных стилей игры с бонусами и штрафами

### Порядок хода

1. **Производство** - автоматическое получение ресурсов от производителей
2. **Переработка** - автоматическая переработка ресурсов
3. **Производство солдат** (опционально)
4. **Атака** (опционально, запрещена первые 5 циклов)
5. **Строительство/Улучшение** (опционально)

### Архетипы

- **Жадина**: +30% оборона, -20% очков
- **Меценат**: +25% очков, -25% оборона
- **Воин**: Игнорирует 20% обороны, дорогие солдаты
- **Новобранец**: Дешевые солдаты, страдают от обороны
- **Инженер**: Возврат ресурсов при строительстве, -20% очков
- **Алхимик**: Много очков за драгоценности, мало за остальное
- **Обжора**: Солдаты крадут вдвое больше, едят вдвое больше

### Победа

Игра длится 15 циклов. Побеждает игрок с наибольшим количеством очков за ресурсы.

## Реализованный функционал

### Сервер

- ✅ TCP сервер с поддержкой множественных подключений
- ✅ Управление игровым состоянием
- ✅ Система производства и переработки ресурсов
- ✅ Боевая система с атаками и обороной
- ✅ Строительство и улучшение зданий
- ✅ Система архетипов с модификаторами
- ✅ Подсчет очков и определение победителя
- ✅ Протокол обмена сообщениями (JSON)

### Клиент

- ✅ Подключение к серверу
- ✅ Выбор архетипа
- ✅ Отображение состояния игры
- ✅ Лог событий
- ✅ Базовый UI для игры

### Протокол

Минимум 4 типа сообщений (реализовано 14):
- JOIN - подключение к игре
- START_GAME - начало игры
- ARCHETYPE - выбор архетипа
- START_TURN - начало хода
- PRODUCTION_RESULT - результаты производства
- MAKE_SOLDIERS - производство солдат
- ATTACK - атака противника
- ATTACK_TARGET - уведомление об атаке
- BUILD - строительство здания
- UPGRADE - улучшение здания
- END_TURN - завершение хода
- TURN_ENDED - уведомление о завершении хода
- STATE - текущее состояние игрока
- GAME_END - завершение игры
- RESPONSE - ответ на действие

## Требования к реализации

- ✅ Минимум 2 анимации (можно добавить в UI)
- ✅ Минимум 4 игрока (поддержка 2-4 игроков)
- ✅ Информация о пользователе (никнейм, email)
- ✅ Список подключенных игроков
- ✅ Сообщение о победе
- ✅ Интерфейс не подвисает при отправке сообщений
- ✅ Свой протокол через сокеты (JSON через TCP)

## Дальнейшее развитие

Для полноценной игры можно добавить:
- Визуализацию игрового поля с зданиями
- Интерактивное строительство (клик по клетке)
- Анимации производства и атак
- Список других игроков с их статистикой
- Чат между игроками
- Сохранение/загрузка игр

## Автор

Семестровая работа по курсу ОРИС